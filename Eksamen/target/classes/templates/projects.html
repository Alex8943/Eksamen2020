<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="myCSS.css">
    <link rel="stylesheet" href="profile.css">
    <meta charset="UTF-8">
    <title>Projekter</title>
</head>

<body>
<div class="slider" />
<th:block th:include="/includes/header :: header"></th:block>

<div class="container">
    <h3 id="header3">PROJEKTER</h3>
    <tr th:each="proj,stats: ${project}">
        <b><td><a th:href="@{/project/{id}(id=${proj.id})}" th:text="${proj.name}"></a></a></td></b><br />
        <td name="id" th:text="${proj.id}" /><br />
        <td name="description" th:text="${proj.description}" /><br />
        <td name="numberOfEmployees" th:text="${proj.numberOfEmployees}" /><br />
        <td name="deadline" th:text="${proj.deadline}" /><br />
        <p th:each="subproject:${proj.subprojects}">
        <td name="subName" th:text="${subproject.name}" /><br />
        <td name="subDescription" th:text="${subproject.description}" /><br />

        </p>
        <p th:each="task:${proj.tasks}">
        <td name="taskName" th:text="${task.name}" /><br />
        <td name="taskDescription" th:text="${task.description}" /><br />

        </p>

        <div class="knapper">
            <form th:action="@{/project/{id}(id=${proj.id})}">
                <button class="knap" name="subject" value="View" >Se projekt</button>
            </form>
        </div>

        <div class="knapper">
            <form th:action="@{/createNewProject}" method="GET">
                <button class="knap" name="subject" type="submit" value="update">Rediger projekt</button>
            </form>
        </div>

        <div class="knapper">
            <form th:action="@{/createSubProject/{id}(id=${proj.id})}" method="post">
                <button class="knap" name="subject" value="Add Subproject">tilf√∏j delprojekt</button>
            </form>
        </div>

        <div class="knapper">
            <form th:action="@{/removeProject}" method="post">
                <input name="id" type="hidden" th:value="${proj.id}">
                <button class="knap" name="subject" type="submit" value="delete">Slet projekt</button>
            </form>
        </div>
    </tr>

</div>

</body>
<th:block th:include="/includes/footer :: footer"></th:block>
</html>